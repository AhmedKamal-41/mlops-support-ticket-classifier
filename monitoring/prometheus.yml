# Prometheus configuration for scraping metrics from the FastAPI service
# This file configures Prometheus to collect metrics from various targets

global:
  # How often to scrape targets (default: 15s)
  scrape_interval: 15s
  
  # How long to wait for a scrape before timing out (default: 10s)
  scrape_timeout: 10s
  
  # How often to evaluate rules (default: 15s)
  evaluation_interval: 15s

# Scrape configurations - defines which targets Prometheus should scrape
scrape_configs:
  # Scrape the FastAPI service metrics endpoint
  - job_name: 'fastapi-api'
    # Metrics path (default is /metrics)
    metrics_path: '/metrics'
    
    # Static configuration - directly specify the target
    static_configs:
      - targets: ['api:8000']  # Service name from docker-compose.yml
        labels:
          service: 'support-ticket-classifier'
          environment: 'development'

